syntax = "proto3";

package ImageManagement;

option go_package = "github.com/tolgazorlu/photo-analysis/proto";

message Image {
  string id = 1;
  bytes data = 2;
}

message ImageResponse {
  string id = 1;
  bool success = 2;
}

message ImageRequest {
  string id = 1;
}

message ImageDetail {
  string id = 1;
  repeated FaceAnalysis faces = 2;
}

message FaceAnalysis {
  float joy = 1;
  float sorrow = 2;
  float anger = 3;
  float surprise = 4;
  // Add more fields as necessary
}

message ImageFeedRequest {
  int32 page = 1;
  int32 pageSize = 2;
}

message ImageFeedResponse {
  repeated ImageDetail images = 1;
}

service ImageManagementService {
    rpc UploadImage (Image) returns (ImageResponse);
    rpc GetImageDetail (ImageRequest) returns (ImageDetail);
    rpc GetImageFeed (ImageFeedRequest) returns (ImageFeedResponse);
    rpc UpdateImageDetail (ImageDetail) returns (ImageResponse);
  }
  